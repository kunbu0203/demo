{"version":3,"sources":["assets/js/main.js"],"names":["noop","method","methods","length","console","window","ratio","screen","width","viewport","document","querySelector","setAttribute","$","on","vh","innerHeight","css","trigger","click","gtag","event_category","event_label","hasClass","onload","fadeOut","addClass","containerSwiper","Swiper","loop","speed","allowTouchMove","autoplay","delay","disableOnInteraction","stopOnLastSlide","pagination","el","navigation","nextEl","prevEl","autoplayTimeLeft","s","time","progress","activeSlider","eq","activeIndex","outTime","slideChangeTransitionStart","removeClass","params","data","toggleClass","slides","slideChangeTransitionEnd","removeAttr","slideNext","e","preventDefault","slideTo","let","timer","setTimeout","pause","clearTimeout","resume"],"mappings":"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","file":"main.min.js","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\r\n(function () {\r\n    var method;\r\n    var noop = function () { };\r\n    var methods = [\r\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\r\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\r\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\r\n        'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\r\n    ];\r\n    var length = methods.length;\r\n    var console = (window.console = window.console || {});\r\n\r\n    while (length--) {\r\n        method = methods[length];\r\n\r\n        // Only stub undefined methods.\r\n        if (!console[method]) {\r\n            console[method] = noop;\r\n        }\r\n    }\r\n}());\r\n\r\n// Place any jQuery/helper plugins in here.\r\n(function (targetWidth) {\r\n    var deviceWidth = screen.width;\r\n    var ratio = deviceWidth / targetWidth;\r\n    var viewport = document.querySelector('meta[name=\"viewport\"]');\r\n    if (ratio < 1) {\r\n        viewport.setAttribute('content', 'width=device-width, initial-scale=' + ratio + ', minimum-scale=' + ratio + ', maximum-scale=' + ratio + ', user-scalable=yes');\r\n    }\r\n})(390);\r\n\r\n$(function () {\r\n    // 取得瀏覽器可視高度\r\n    $(window).on('resize.vh', function () {\r\n        var vh = window.innerHeight * 0.01;\r\n        $('html').css('--vh', vh + 'px');\r\n    }).trigger('resize.vh');\r\n\r\n    $('.container-btn').click(function () {\r\n        gtag('event', 'click', {\r\n            event_category: '會員頁',\r\n            event_label: $('.container-btn').hasClass('-vip') ? 'VIP一起來看看' : '一般一起來看看'\r\n        })\r\n    });\r\n    $('.goShop').click(function () {\r\n        gtag('event', 'click', {\r\n            event_category: '促銷頁',\r\n            event_label: '快來購物吧'\r\n        })\r\n    });\r\n    $('.again').click(function () {\r\n        gtag('event', 'click', {\r\n            event_category: '促銷頁',\r\n            event_label: '再看一次'\r\n        })\r\n    });\r\n});\r\n\r\n// loading\r\nwindow.onload = function () {\r\n    $('.loading').fadeOut(300, function () {\r\n        $('body').addClass('-loaded');\r\n\r\n        // 主要輪播\r\n        const containerSwiper = new Swiper('[data-slider]', {\r\n            loop: false,\r\n            speed: 1,\r\n            allowTouchMove: false,\r\n            autoplay: {\r\n                delay: 7000,\r\n                disableOnInteraction: false,\r\n                stopOnLastSlide: true\r\n            },\r\n            pagination: {\r\n                el: '.container-page',\r\n            },\r\n            navigation: {\r\n                nextEl: '.container-next',\r\n                prevEl: '.container-prev',\r\n            },\r\n            on: {\r\n                autoplayTimeLeft(s, time, progress) {\r\n                    var activeSlider = $('[data-swiper-autoplay]').eq(s.activeIndex);\r\n                    var outTime = activeSlider.hasClass('-cartOut') ? 1800 : 1600;\r\n                    if (time < outTime && time > (outTime - 100) && !activeSlider.hasClass('-fadeOut')) {\r\n                        activeSlider.addClass('-fadeOut');\r\n                        $('.swiper-slide-active .-haveToFadeOut').fadeOut(1000);\r\n                    }\r\n                    $('html').css('--progress', 1 - progress);\r\n                },\r\n                slideChangeTransitionStart(s) {\r\n                    $('[data-swiper-autoplay]').removeClass('-fadeOut').eq(s.activeIndex - 1).addClass('-changeStart');\r\n                    s.params.autoplay.delay = $('[data-swiper-autoplay]').eq(s.activeIndex).data('swiperAutoplay');\r\n                    $('.container-btn').toggleClass('hidden', s.activeIndex !== 1);\r\n                    $('.container-goShop').toggleClass('hidden', s.activeIndex !== s.slides.length - 1);\r\n                },\r\n                slideChangeTransitionEnd() {\r\n                    $('[data-swiper-autoplay]').removeClass('-changeStart');\r\n                    $('.swiper-slide-active .-haveToFadeOut').removeAttr('style');\r\n                }\r\n            }\r\n        });\r\n        $('.container-btn').on('click', function () {\r\n            containerSwiper.slideNext();\r\n        });\r\n        $('.again').on('click', function (e) {\r\n            e.preventDefault();\r\n            containerSwiper.slideTo(0);\r\n        });\r\n\r\n        // 長按暫停\r\n        let timer = 0;\r\n        $('[data-slider]').on('mousedown touchstart', function () {\r\n            timer = setTimeout(() => {\r\n                timer = 0;\r\n                $('[data-slider]').addClass('-isPause');\r\n                containerSwiper.autoplay.pause();\r\n            }, 300);\r\n        });\r\n        $('[data-slider]').on('mouseup touchend', function () {\r\n            clearTimeout(timer);\r\n            if (timer === 0) {\r\n                containerSwiper.autoplay.resume();\r\n                $('[data-slider]').removeClass('-isPause');\r\n            }\r\n        });\r\n    });\r\n};"],"sourceRoot":"/"}